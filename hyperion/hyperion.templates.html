<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>hyperion.templates documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Netflix.hyperion</span> <span class="project-version">1.34</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hyperion</span></div></div></li><li class="depth-2 branch"><a href="hyperion.aca.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aca</span></div></a></li><li class="depth-2 branch"><a href="hyperion.alerts.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>alerts</span></div></a></li><li class="depth-2 branch"><a href="hyperion.atlas.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>atlas</span></div></a></li><li class="depth-2 branch"><a href="hyperion.auto-metrics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auto-metrics</span></div></a></li><li class="depth-2 branch"><a href="hyperion.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="hyperion.dashboards.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dashboards</span></div></a></li><li class="depth-2 branch"><a href="hyperion.metrics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metrics</span></div></a></li><li class="depth-2"><a href="hyperion.modules.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>modules</span></div></a></li><li class="depth-3 branch"><a href="hyperion.modules.base-server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base-server</span></div></a></li><li class="depth-3"><a href="hyperion.modules.grpc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grpc</span></div></a></li><li class="depth-2 current"><a href="hyperion.templates.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>templates</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="hyperion.templates.html#var-absolute-change"><div class="inner"><span>absolute-change</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-anomalies-via-sdes"><div class="inner"><span>anomalies-via-sdes</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-avg"><div class="inner"><span>avg</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-avg.2B"><div class="inner"><span>avg+</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-client"><div class="inner"><span>client</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-custom"><div class="inner"><span>custom</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-defexpansion"><div class="inner"><span>defexpansion</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-deftemplate"><div class="inner"><span>deftemplate</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-derivative-in-range"><div class="inner"><span>derivative-in-range</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-des"><div class="inner"><span>des</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-engine"><div class="inner"><span>engine</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-engine-client"><div class="inner"><span>engine-client</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-group-alerts"><div class="inner"><span>group-alerts</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-gt"><div class="inner"><span>gt</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-max"><div class="inner"><span>max</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-max-grouped"><div class="inner"><span>max-grouped</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-min"><div class="inner"><span>min</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-node-avg"><div class="inner"><span>node-avg</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-notify-signal"><div class="inner"><span>notify-signal</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-notify-sum"><div class="inner"><span>notify-sum</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-outlier"><div class="inner"><span>outlier</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-outlier.2B"><div class="inner"><span>outlier+</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-percent-change"><div class="inner"><span>percent-change</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-percentile"><div class="inner"><span>percentile</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-ratio"><div class="inner"><span>ratio</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-ratio.2B"><div class="inner"><span>ratio+</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-rolling-ratio"><div class="inner"><span>rolling-ratio</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-rolling-ratio.2B"><div class="inner"><span>rolling-ratio+</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-rolling-sum"><div class="inner"><span>rolling-sum</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-simple-grouped-signal"><div class="inner"><span>simple-grouped-signal</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-simple-signal"><div class="inner"><span>simple-signal</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-statistic-avg"><div class="inner"><span>statistic-avg</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-statistic-count"><div class="inner"><span>statistic-count</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-statistic-max"><div class="inner"><span>statistic-max</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-sub"><div class="inner"><span>sub</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-sum"><div class="inner"><span>sum</span></div></a></li><li class="depth-1"><a href="hyperion.templates.html#var-trend"><div class="inner"><span>trend</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">hyperion.templates</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-absolute-change"><h3>absolute-change</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the absolute change (hr over hr) of a signal. Specify an upper and lower bound.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the lower threshold and the second is the upper threshold. Example: [-0.25 0.25]

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :aggregate Optional override to agg function. Default is h/sum</pre></div></div><div class="public anchor" id="var-anomalies-via-sdes"><h3>anomalies-via-sdes</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the comparing the sum of the signal with sdes of the sum of the signal.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-avg"><h3>avg</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the average of the signal. This can appear lower if you have a disabled ASG currently in the scope. See also avg+

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-avg.2B"><h3>avg+</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the average of the signal. avg+ is different in that it takes the sum of the cluster divided by the number of active instances. This only works for signals that go to zero when not in use. This will not work for instance termination alerts.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-client"><h3>client</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Defines 3 alerts for an NIWS client:

* A latency alert
* A count alert
* An error percentage alert


Required fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :metric The name of the NIWS client

Optional fields:
  :count-threshold The count minimum threshold, a number

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}. Applies to all alerts with no other mask specified

  :latency-mask-threshold A low volume threshold for the latency alert

  :count-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :error-pct-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :error-threshold The error threshold, a percentage

  :count-window The count window

  :metric-suffix Indicates what suffix to append to metric name if any. Default: "-allrequest"

  :error-window The error window

  :latency-threshold The latency maximum threshold, a number

  :latency-window The latency window

  :latency-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-custom"><h3>custom</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on a custom signal. You must aggregate the signal using h/avg, h/sum, etc. The scope will be combined with the signal using h/and.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The signal to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-defexpansion"><h3>defexpansion</h3><h4 class="type">macro</h4><div class="usage"><code>(defexpansion name docstring required optional args &amp; body)</code></div><div class="doc"><pre class="plaintext">Defines a new alert expansion template
</pre></div></div><div class="public anchor" id="var-deftemplate"><h3>deftemplate</h3><h4 class="type">macro</h4><div class="usage"><code>(deftemplate name docstring required optional args &amp; body)</code></div><div class="doc"><pre class="plaintext">Defines a new alert template
</pre></div></div><div class="public anchor" id="var-derivative-in-range"><h3>derivative-in-range</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on derivative of a signal being in a specified range over rolling window. Specify an upper and lower bound for the range.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the lower threshold and the second is the upper threshold. Example: [-0.25 0.25]

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :aggregate Optional override to agg function. Default is h/sum

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-des"><h3>des</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A simple DES alert. See <a href="https://confluence.corp.netflix.com/display/ME/DES+Tuning">https://confluence.corp.netflix.com/display/ME/DES+Tuning</a>

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the lower threshold and the second is the upper threshold. Example: [-0.25 0.25]

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :sample The sample time to use. Can be "1h", "3h", "6h", etc

  :alpha The DES alpha parameter

  :beta The DES beta parameter

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-engine"><h3>engine</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Defines 7 alerts that are useful for a system processing algorithms:

* A pager for low/no compute volume
* A pager for super high latency
* An email for moderately high latency
* An instance termination rule for rouge instances (based on latency)
* A pager for a super high error percentage
* An email for a high error percentage
* An email for high load avg


Required fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

Optional fields:
  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}. Applies to all alerts with no other mask specified

  :count-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :error-pct-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :latency-email The latency at which you are emailed

  :count-email The minimum compute count before you are emailed

  :error-pct-email The error percentage at which you are emailed

  :load-avg The maximum load avg before you are emailed

  :queue-depth-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :count-window Optional override for count window. Default is [10 10]

  :load-avg-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :load-avg-window Optional override for load-avg window. Default is [10 10]

  :latency-terminate The latency at which to terminate an instance

  :error-pct-pager The error percentage at which you are paged

  :queue-depth The maximum queue depth before you are emailed

  :latency-pager The latency at which you are paged

  :count-pager The minimum compute count before you are paged

  :latency-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-engine-client"><h3>engine-client</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Defines 4 alerts for a Manhattan client:

* A latency alert
* A count alert
* An client error percentage alert
* A data error percentage alert
* An age alert


Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :algo The name of the Fatman algo

  :data The name of the Fatman data

Optional fields:
  :count-threshold The count minimum threshold, a number

  :data-error-window The error window

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}. Applies to all alerts with no other mask specified

  :client-error-window The error window

  :data-error-threshold The error threshold, a percentage. This is for normal things that may happen, but are bad.

  :data-error-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :count-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :age-window The age window

  :client-error-threshold The error threshold, a percentage. This is for exceptional situations.

  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :client-error-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :count-window The count window

  :age-threshold The age maximum threshold, a number

  :latency-threshold The latency maximum threshold, a number

  :age-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :latency-window The latency window

  :latency-mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-group-alerts"><h3>group-alerts</h3><div class="usage"><code>(group-alerts &amp; alerts)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-gt"><h3>gt</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on greater than comparision of two metrics. The signal used is metric-1 &gt; metric-2.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric-1 The metric 1 name

  :metric-2 The metric 2 name

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :aggregate Used to override the default aggregation of h/sum. Can be h/avg, h/max, etc.

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]</pre></div></div><div class="public anchor" id="var-max"><h3>max</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the maximum of the signal.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-max-grouped"><h3>max-grouped</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the maximum of the signal; gouped by some set of keys

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

  :group-keys A set of tags to group on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-min"><h3>min</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the minimum of the signal.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-node-avg"><h3>node-avg</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the per-node average of the signal. This can appear lower if you have a disabled ASG currently in the scope. See also avg+

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-notify-signal"><h3>notify-signal</h3><div class="usage"><code>(notify-signal {[c threshold] :threshold, [n w] :window, mask :mask, :as a} scope actual)</code></div><div class="doc"><pre class="plaintext">Boilerplate for a simple notification
</pre></div></div><div class="public anchor" id="var-notify-sum"><h3>notify-sum</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Notifications based on the sum of the signal.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to notify on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-outlier"><h3>outlier</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on deviation from the average.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold The multiplier of the average to use as the threshold: [&gt;= 1.5]

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

  :group-keys A set of tags to group on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-outlier.2B"><h3>outlier+</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on deviation from the average.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold The multiplier of the average to use as the threshold: [&gt;= 1.5]

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

  :group-keys A set of tags to group on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :aggregate Used to override the default aggregation of h/avg. Can be h/sum, h/max, etc.

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-percent-change"><h3>percent-change</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the percent change (hr over hr) of a signal. Specify an upper and lower bound.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the lower threshold and the second is the upper threshold. Example: [-0.25 0.25]

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :aggregate Optional override to agg function. Default is h/sum

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-percentile"><h3>percentile</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the percentile statistic of the signal. The percentile values and a possible multiplier can be supplied.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

  :percentile-value The value of the percentile

  :multiplier The multiplier by which the percentile needs to be multiplied

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-ratio"><h3>ratio</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the ratio of two metrics. The signal used is metric-numerator/metric-denominator.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric-numerator The numerator metric name

  :metric-denominator The denominator metric name

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :aggregate Used to override the default aggregation of h/sum. Can be h/avg, h/max, etc.

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]</pre></div></div><div class="public anchor" id="var-ratio.2B"><h3>ratio+</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the ratio of two metrics. The signal used is metric-numerator/(metric-numerator + metric-denominator).

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric-numerator The numerator metric name. For this alert, this is also added to the denominator.

  :metric-denominator The denominator metric name

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :aggregate Used to override the default aggregation of h/sum. Can be h/avg, h/max, etc.

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :mask-threshold A minimum threshold on the sum of the numerator and denominator to switch off the alert in low-volume scenarios.

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]</pre></div></div><div class="public anchor" id="var-rolling-ratio"><h3>rolling-ratio</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The combination of the rolling-sum and ratio templates.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :sample The sample time to use. Can be "1h", "3h", "6h", etc

  :metric-numerator The numerator metric name

  :metric-denominator The denominator metric name

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :aggregate Used to override the default aggregation of h/sum. Can be h/avg, h/max, etc.

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]</pre></div></div><div class="public anchor" id="var-rolling-ratio.2B"><h3>rolling-ratio+</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The combination of the rolling-sum and ratio+ templates.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :sample The sample time to use. Can be "1h", "3h", "6h", etc

  :metric-numerator The numerator metric name. For this alert, this is also added to the denominator.

  :metric-denominator The denominator metric name

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :aggregate Used to override the default aggregation of h/sum. Can be h/avg, h/max, etc.

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]</pre></div></div><div class="public anchor" id="var-rolling-sum"><h3>rolling-sum</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the rolling sum of a signal. This is very useful for low volume signals.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :sample The sample time to use. Can be "1h", "3h", "6h", etc

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-simple-grouped-signal"><h3>simple-grouped-signal</h3><div class="usage"><code>(simple-grouped-signal {[c threshold] :threshold, [n w] :window, mask :mask, group-keys :group-keys, :as a} scope actual)</code></div><div class="doc"><pre class="plaintext">Boilerplate for a simple alert grouped by set of keys
</pre></div></div><div class="public anchor" id="var-simple-signal"><h3>simple-signal</h3><div class="usage"><code>(simple-signal {[c threshold] :threshold, [n w] :window, mask :mask, :as a} scope actual)</code></div><div class="doc"><pre class="plaintext">Boilerplate for a simple alert
</pre></div></div><div class="public anchor" id="var-statistic-avg"><h3>statistic-avg</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the true average of the signal (timer or distributionSummary).

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-statistic-count"><h3>statistic-count</h3><div class="usage"><code>(statistic-count name)</code></div><div class="doc"><pre class="plaintext">Takes the count of a composite metric.
</pre></div></div><div class="public anchor" id="var-statistic-max"><h3>statistic-max</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the maximum of the signal.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-sub"><h3>sub</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on subtraction of two metrics. The signal used is metric-1 - metric-2.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric-1 The metric 1 name

  :metric-2 The metric 2 name

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :aggregate Used to override the default aggregation of h/sum. Can be h/avg, h/max, etc.

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]</pre></div></div><div class="public anchor" id="var-sum"><h3>sum</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Alerts based on the sum of the signal.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the comparison (&lt; &gt; &lt;= &gt;=) and the second is the threshold.

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div><div class="public anchor" id="var-trend"><h3>trend</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A simple trend line alert.

Required fields:
  :actions The actions to perform when the alert is triggered. Usually a set of actions: #{:email :pager :terminate}

  :threshold A vector of two elements. The first is the lower threshold and the second is the upper threshold. Example: [-0.25 0.25]

  :window A vector of two elements. For example, [8 10] means that this alert will only fire if the signal is crossed 8 times in 10 minutes.

  :sample The sample time to use. Can be "1h", "3h", "6h", etc

  :metric The name of the metric to alert on

Optional fields:
  :scope What scope to target. Use h/nf-app, h/nf-cluster, etc

  :dashboards A sequence of dashboard references. These are provided as links when the alert fires. Example: [{:name "SocialService", :tab "Service"}]

  :mask A mask to apply to the alert signal; usually used to disable the alert during low volume or when other signals are not present. Can be a number, in which case the sum of the signal is used, or a map specifying another signal and optional aggregate: Example: {:metric "SPS", :threshold [&gt; 1], :agg h/sum}</pre></div></div></div></body></html>