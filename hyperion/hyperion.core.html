<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>hyperion.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Netflix.hyperion</span> <span class="project-version">1.34</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hyperion</span></div></div></li><li class="depth-2 branch"><a href="hyperion.aca.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aca</span></div></a></li><li class="depth-2 branch"><a href="hyperion.alerts.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>alerts</span></div></a></li><li class="depth-2 branch"><a href="hyperion.atlas.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>atlas</span></div></a></li><li class="depth-2 branch"><a href="hyperion.auto-metrics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auto-metrics</span></div></a></li><li class="depth-2 branch current"><a href="hyperion.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="hyperion.dashboards.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dashboards</span></div></a></li><li class="depth-2 branch"><a href="hyperion.metrics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metrics</span></div></a></li><li class="depth-2"><a href="hyperion.modules.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>modules</span></div></a></li><li class="depth-3 branch"><a href="hyperion.modules.base-server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base-server</span></div></a></li><li class="depth-3"><a href="hyperion.modules.grpc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grpc</span></div></a></li><li class="depth-2"><a href="hyperion.templates.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>templates</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="hyperion.core.html#var-abs"><div class="inner"><span>abs</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-add"><div class="inner"><span>add</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-add-row"><div class="inner"><span>add-row</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-and"><div class="inner"><span>and</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-area"><div class="inner"><span>area</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-avg"><div class="inner"><span>avg</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-axis"><div class="inner"><span>axis</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-cf"><div class="inner"><span>cf</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-color"><div class="inner"><span>color</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-color-gradient"><div class="inner"><span>color-gradient</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-const"><div class="inner"><span>const</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-count"><div class="inner"><span>count</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-dashboard"><div class="inner"><span>dashboard</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-derivative"><div class="inner"><span>derivative</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-dist-avg"><div class="inner"><span>dist-avg</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-dist-max"><div class="inner"><span>dist-max</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-dist-stddev"><div class="inner"><span>dist-stddev</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-div"><div class="inner"><span>div</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-eureka-avg"><div class="inner"><span>eureka-avg</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-expression-.3Eurl"><div class="inner"><span>expression-&gt;url</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-fadd"><div class="inner"><span>fadd</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-fdiv"><div class="inner"><span>fdiv</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-filter-by"><div class="inner"><span>filter-by</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-fmul"><div class="inner"><span>fmul</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-fsub"><div class="inner"><span>fsub</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-ge"><div class="inner"><span>ge</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-group-by"><div class="inner"><span>group-by</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-gt"><div class="inner"><span>gt</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-has"><div class="inner"><span>has</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-head"><div class="inner"><span>head</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-integral"><div class="inner"><span>integral</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-invert"><div class="inner"><span>invert</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-le"><div class="inner"><span>le</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-legend"><div class="inner"><span>legend</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-line"><div class="inner"><span>line</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-line-width"><div class="inner"><span>line-width</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-lt"><div class="inner"><span>lt</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-mask"><div class="inner"><span>mask</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-max"><div class="inner"><span>max</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-merge"><div class="inner"><span>merge</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-min"><div class="inner"><span>min</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-module-.3Eurl"><div class="inner"><span>module-&gt;url</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-mul"><div class="inner"><span>mul</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-name"><div class="inner"><span>name</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-nf-app"><div class="inner"><span>nf-app</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-nf-asg"><div class="inner"><span>nf-asg</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-nf-cluster"><div class="inner"><span>nf-cluster</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-nf-region"><div class="inner"><span>nf-region</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-nf-stack"><div class="inner"><span>nf-stack</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-nf-zone"><div class="inner"><span>nf-zone</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-node-avg"><div class="inner"><span>node-avg</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-not"><div class="inner"><span>not</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-offset"><div class="inner"><span>offset</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-or"><div class="inner"><span>or</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-per-step"><div class="inner"><span>per-step</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-percent"><div class="inner"><span>percent</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-percentile"><div class="inner"><span>percentile</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-query-.3Eurl"><div class="inner"><span>query-&gt;url</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-replace-row"><div class="inner"><span>replace-row</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-rolling"><div class="inner"><span>rolling</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-sdes-fast"><div class="inner"><span>sdes-fast</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-sdes-slow"><div class="inner"><span>sdes-slow</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-sort-by"><div class="inner"><span>sort-by</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-sqrt"><div class="inner"><span>sqrt</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-stack"><div class="inner"><span>stack</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-sub"><div class="inner"><span>sub</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-sum"><div class="inner"><span>sum</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-trend"><div class="inner"><span>trend</span></div></a></li><li class="depth-1"><a href="hyperion.core.html#var-vspan"><div class="inner"><span>vspan</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">hyperion.core</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-abs"><h3>abs</h3><div class="usage"><code>(abs v)</code></div><div class="doc"><pre class="plaintext">Inputs: [v :- m/Query]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-add"><h3>add</h3><div class="usage"><code>(add x y &amp; more)</code></div><div class="doc"><pre class="plaintext">Inputs: [x :- m/MetricName y :- m/MetricName &amp; more :- [m/MetricName]]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-add-row"><h3>add-row</h3><div class="usage"><code>(add-row tab row-index row)</code><code>(add-row tabs tab-index row-index row)</code></div><div class="doc"><pre class="plaintext">Adds a single row to an existing tab-set or tab
</pre></div></div><div class="public anchor" id="var-and"><h3>and</h3><div class="usage"><code>(and arg &amp; args)</code></div><div class="doc"><pre class="plaintext">Inputs: [arg :- m/MetricName &amp; args :- [m/MetricName]]
Returns: m/Query

Combines the expressions with :and

Examples:

  (h/and (h/nf-cluster :api) (h/name :metric))
  ;=&gt; [:and [:eq "nf.cluster" "api"] [:eq "name" "metric"]]

See:
  hyperion.core/or
</pre></div></div><div class="public anchor" id="var-area"><h3>area</h3><div class="usage"><code>(area metric)</code><code>(area metric legend)</code><code>(area metric legend color)</code></div><div class="doc"><pre class="plaintext">Inputs: ([metric :- m/Query] [metric :- m/Query legend :- (s/maybe s/Str)] [metric :- m/Query legend :- (s/maybe s/Str) color :- (s/maybe m/Color)])
Returns: m/Query

Defines an area on a graph. Does not stack the areas; each is plotted in
front of the last.

 metric The expression for the metric
 legend The legend, a string
 color  The color of the line, e.g. :red, :blue, etc
 </pre></div></div><div class="public anchor" id="var-avg"><h3>avg</h3><div class="usage"><code>(avg name)</code><code>(avg scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Takes the average of a metric. Optionally takes a scope to restrict the metric.

See:
  hyperion.core/avg+, hyperion.core/node-avg
</pre></div></div><div class="public anchor" id="var-axis"><h3>axis</h3><div class="usage"><code>(axis metric axis)</code></div><div class="doc"><pre class="plaintext">Inputs: [metric :- m/Query axis :- s/Num]
Returns: m/Query

Assigns the lines to a specific axis</pre></div></div><div class="public anchor" id="var-cf"><h3>cf</h3><div class="usage"><code>(cf metric stat)</code></div><div class="doc"><pre class="plaintext">Inputs: [metric :- m/Query stat :- (s/enum :max)]
Returns: m/Query

Force a consolidation function</pre></div></div><div class="public anchor" id="var-color"><h3>color</h3><div class="usage"><code>(color metric color)</code></div><div class="doc"><pre class="plaintext">Inputs: [metric :- m/Query color :- m/Color]
Returns: m/Query

Adds a legend to the line</pre></div></div><div class="public anchor" id="var-color-gradient"><h3>color-gradient</h3><div class="usage"><code>(color-gradient cs n)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-const"><h3>const</h3><div class="usage"><code>(const value)</code></div><div class="doc"><pre class="plaintext">Inputs: [value :- s/Num]
Returns: m/Query

A constant line</pre></div></div><div class="public anchor" id="var-count"><h3>count</h3><div class="usage"><code>(count name)</code><code>(count scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Takes the cardinality of a metric. Optionally takes a scope to restrict the metric.</pre></div></div><div class="public anchor" id="var-dashboard"><h3>dashboard</h3><div class="usage"><code>(dashboard name definition target)</code></div><div class="doc"><pre class="plaintext">Build a dashboard
</pre></div></div><div class="public anchor" id="var-derivative"><h3>derivative</h3><div class="usage"><code>(derivative metric)</code></div><div class="doc"><pre class="plaintext">Inputs: [metric :- m/Query]
Returns: m/Query

Computes the rate of change of a metric</pre></div></div><div class="public anchor" id="var-dist-avg"><h3>dist-avg</h3><div class="usage"><code>(dist-avg name)</code><code>(dist-avg scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Distribution average. Optionally takes a scope to restrict the metric.
</pre></div></div><div class="public anchor" id="var-dist-max"><h3>dist-max</h3><div class="usage"><code>(dist-max name)</code><code>(dist-max scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Distribution maximum values. Optionally takes a scope to restrict the metric.
</pre></div></div><div class="public anchor" id="var-dist-stddev"><h3>dist-stddev</h3><div class="usage"><code>(dist-stddev name)</code><code>(dist-stddev scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Distribution standard deviation values. Optionally takes a scope to restrict the metric.
</pre></div></div><div class="public anchor" id="var-div"><h3>div</h3><div class="usage"><code>(div n d)</code></div><div class="doc"><pre class="plaintext">Inputs: [n :- m/MetricName d :- m/MetricName]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-eureka-avg"><h3>eureka-avg</h3><div class="usage"><code>(eureka-avg name)</code><code>(eureka-avg scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Takes the average of a metric. Optionally takes a scope to restrict the metric.
 While avg simply averages the metric, this takes the sum and then divides by
 the number of active instances.

See:
  hyperion.core/avg, hyperion.core/node-avg
</pre></div></div><div class="public anchor" id="var-expression-.3Eurl"><h3>expression-&gt;url</h3><div class="usage"><code>(expression-&gt;url value)</code><code>(expression-&gt;url index value)</code></div><div class="doc"><pre class="plaintext">Given a single expression representation as generated by functions like
hyperion.core/name, hyperion.core/sum, etc, generates the equivalent Atlas
stack language expression as a string.

Examples:

  (h/expression-&gt;url (h/sum (h/nf-app :socialservice) (h/name :requests)))
  ;=&gt; "nf.app,socialservice,:eq,name,:requests,:eq,:and,:sum"

See:
  hyperion.core/query-&gt;url
</pre></div></div><div class="public anchor" id="var-fadd"><h3>fadd</h3><div class="usage"><code>(fadd x y &amp; more)</code></div><div class="doc"><pre class="plaintext">Inputs: [x :- m/MetricName y :- m/MetricName &amp; more :- [m/MetricName]]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-fdiv"><h3>fdiv</h3><div class="usage"><code>(fdiv x y &amp; more)</code></div><div class="doc"><pre class="plaintext">Inputs: [x :- m/MetricName y :- m/MetricName &amp; more :- [m/MetricName]]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-filter-by"><h3>filter-by</h3><div class="usage"><code>(filter-by metric stat cmp constant)</code></div><div class="doc"><pre class="plaintext">Inputs: [metric :- m/Query stat :- (s/enum :stat-min :stat-max :stat-avg :stat-total) cmp :- (s/enum :gt :ge :lt :le) constant :- s/Num]
Returns: m/Query

Filters values by comparing the stat to given constant</pre></div></div><div class="public anchor" id="var-fmul"><h3>fmul</h3><div class="usage"><code>(fmul x y &amp; more)</code></div><div class="doc"><pre class="plaintext">Inputs: [x :- m/MetricName y :- m/MetricName &amp; more :- [m/MetricName]]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-fsub"><h3>fsub</h3><div class="usage"><code>(fsub x y &amp; more)</code></div><div class="doc"><pre class="plaintext">Inputs: [x :- m/MetricName y :- m/MetricName &amp; more :- [m/MetricName]]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-ge"><h3>ge</h3><div class="usage"><code>(ge x y)</code></div><div class="doc"><pre class="plaintext">Inputs: [x :- m/MetricName y :- m/MetricName]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-group-by"><h3>group-by</h3><div class="usage"><code>(group-by metric keys)</code></div><div class="doc"><pre class="plaintext">Inputs: [metric :- m/Query keys :- m/GroupKeys]
Returns: m/Query

Groups a metric by a specified dimension</pre></div></div><div class="public anchor" id="var-gt"><h3>gt</h3><div class="usage"><code>(gt x y)</code></div><div class="doc"><pre class="plaintext">Inputs: [x :- m/MetricName y :- m/MetricName]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-has"><h3>has</h3><div class="usage"><code>(has tag)</code></div><div class="doc"><pre class="plaintext">Inputs: [tag :- s/Keyword]
Returns: m/Query

Include metric if the metric has this tag</pre></div></div><div class="public anchor" id="var-head"><h3>head</h3><div class="usage"><code>(head metric n)</code></div><div class="doc"><pre class="plaintext">Inputs: [metric :- m/Query n :- s/Int]
Returns: m/Query

Take the first n lines</pre></div></div><div class="public anchor" id="var-integral"><h3>integral</h3><div class="usage"><code>(integral v)</code></div><div class="doc"><pre class="plaintext">Inputs: [v :- m/Query]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-invert"><h3>invert</h3><div class="usage"><code>(invert v)</code></div><div class="doc"><pre class="plaintext">Inputs: [v :- m/Query]
Returns: m/Query

Inverts a binary signal</pre></div></div><div class="public anchor" id="var-le"><h3>le</h3><div class="usage"><code>(le x y)</code></div><div class="doc"><pre class="plaintext">Inputs: [x :- m/MetricName y :- m/MetricName]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-legend"><h3>legend</h3><div class="usage"><code>(legend metric legend)</code></div><div class="doc"><pre class="plaintext">Inputs: [metric :- m/Query legend :- s/Str]
Returns: m/Query

Adds a legend to the line</pre></div></div><div class="public anchor" id="var-line"><h3>line</h3><div class="usage"><code>(line metric)</code><code>(line metric legend)</code><code>(line metric legend color)</code></div><div class="doc"><pre class="plaintext">Inputs: ([metric :- m/Query] [metric :- m/Query legend :- (s/maybe s/Str)] [metric :- m/Query legend :- (s/maybe s/Str) color :- (s/maybe m/Color)])
Returns: m/Query

Defines a single line on a graph.

 metric The expression for the metric
 legend The legend, a string
 color  The color of the line, e.g. :red, :blue, etc
 </pre></div></div><div class="public anchor" id="var-line-width"><h3>line-width</h3><div class="usage"><code>(line-width line width)</code></div><div class="doc"><pre class="plaintext">Inputs: [line :- m/Query width :- s/Num]
Returns: m/Query

Set the line width</pre></div></div><div class="public anchor" id="var-lt"><h3>lt</h3><div class="usage"><code>(lt x y)</code></div><div class="doc"><pre class="plaintext">Inputs: [x :- m/MetricName y :- m/MetricName]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-mask"><h3>mask</h3><div class="usage"><code>(mask v mask)</code></div><div class="doc"><pre class="plaintext">Inputs: [v :- m/Query mask :- m/Query]
Returns: m/Query

Applies a mask to a signal</pre></div></div><div class="public anchor" id="var-max"><h3>max</h3><div class="usage"><code>(max name)</code><code>(max scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Takes the maximum of a metric. Optionally takes a scope to restrict the metric.</pre></div></div><div class="public anchor" id="var-merge"><h3>merge</h3><div class="usage"><code>(merge names)</code></div><div class="doc"><pre class="plaintext">Inputs: [names :- [m/MetricName]]
Returns: m/MetricName

Merges atlas style map-names</pre></div></div><div class="public anchor" id="var-min"><h3>min</h3><div class="usage"><code>(min name)</code><code>(min scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Takes the minimum of a metric. Optionally takes a scope to restrict the metric.</pre></div></div><div class="public anchor" id="var-module-.3Eurl"><h3>module-&gt;url</h3><div class="usage"><code>(module-&gt;url module)</code><code>(module-&gt;url start module)</code><code>(module-&gt;url start end module)</code></div><div class="doc"><pre class="plaintext">Create a single graph url. Usually used for debugging.
</pre></div></div><div class="public anchor" id="var-mul"><h3>mul</h3><div class="usage"><code>(mul x y &amp; more)</code></div><div class="doc"><pre class="plaintext">Inputs: [x :- m/MetricName y :- m/MetricName &amp; more :- [m/MetricName]]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-name"><h3>name</h3><div class="usage"><code>(name value)</code><code>(name tag value)</code></div><div class="doc"><pre class="plaintext">Inputs: ([value :- m/MetricName] [tag :- m/Name value :- m/MetricName])
Returns: (s/maybe m/Query)

Returns a representation of an expression that matches the name of a metric.

name is the value to match, which can take the following forms:

  String            name is match with equality
  java.util.Pattern name is a regex to match
  A Set             name is a set of names to match
  A Map             name is a map of key/value pairs, each representing a separate
                    name/value match.
  A Vector          An expression

Examples:

  ; name must be "request"
  (hyperion/name "request")

  ; name must be one of "foo", "bar" or "baz"
  (hyperion/name #{"foo" "bar" "baz"})
</pre></div></div><div class="public anchor" id="var-nf-app"><h3>nf-app</h3><div class="usage"><code>(nf-app app &amp; apps)</code></div><div class="doc"><pre class="plaintext">Inputs: [app :- m/Name &amp; apps :- [m/Name]]
Returns: m/Query

Defines an application scope for one or more apps.

Returns a data structure representing the scope.

Examples:

  (nf-app "socialservice")
  ;=&gt; [:eq "nf.app" "socialservice"]

  (nf-app :socialservice :socialsqsconsumers)
  ;=&gt; [:in "nf.app" #{"socialservice" "socialsqsconsumers"}]

See:
  hyperion/nf-cluster
  hyperion/nf-region
</pre></div></div><div class="public anchor" id="var-nf-asg"><h3>nf-asg</h3><div class="usage"><code>(nf-asg asg &amp; asgs)</code></div><div class="doc"><pre class="plaintext">Inputs: [asg :- m/Name &amp; asgs :- [m/Name]]
Returns: m/Query

Defines an ASG scope for one or more ASGs.

Returns a data structure representing the scope.

Examples:

  (nf-asg "socialservice-v162")
  ;=&gt; [:eq "nf.asg" "socialservice-v162"]

  (nf-asg :socialservice-v162 :socialsqsconsumers-v092)
  ;=&gt; [:in "nf.asg" #{"socialservice-v162" "socialsqsconsumers-v092"}]

See:
  hyperion/nf-app
  hyperion/nf-cluster
  hyperion/nf-region
</pre></div></div><div class="public anchor" id="var-nf-cluster"><h3>nf-cluster</h3><div class="usage"><code>(nf-cluster cluster &amp; clusters)</code></div><div class="doc"><pre class="plaintext">Inputs: [cluster :- m/Name &amp; clusters :- [m/Name]]
Returns: m/Query

Defines an cluster scope for one or more clusters.

Returns a data structure representing the scope.

Examples:

  (nf-cluster "socialservice")
  ;=&gt; [:eq "nf.cluster" "socialservice"]

  (nf-cluster :socialservice :socialsqsconsumers)
  ;=&gt; [:in "nf.cluster" #{"socialservice" "socialsqsconsumers"}]

See:
  hyperion/nf-app
  hyperion/nf-region
</pre></div></div><div class="public anchor" id="var-nf-region"><h3>nf-region</h3><div class="usage"><code>(nf-region region &amp; regions)</code></div><div class="doc"><pre class="plaintext">Inputs: [region :- m/Name &amp; regions :- [m/Name]]
Returns: m/Query

Defines an region scope for one or more regions

Returns a data structure representing the scope.

Examples:

  (nf-region "us-east-1")
  ;=&gt; [:eq "nf.region" "us-east-1"]

  (nf-region :us-east-1 :eu-west-1)
  ;=&gt; [:in "nf.region" #{"us-east-1" "eu-west-1"}]

See:
  hyperion/nf-app
  hyperion/nf-cluster
</pre></div></div><div class="public anchor" id="var-nf-stack"><h3>nf-stack</h3><div class="usage"><code>(nf-stack stack &amp; stacks)</code></div><div class="doc"><pre class="plaintext">Inputs: [stack :- m/Name &amp; stacks :- [m/Name]]
Returns: m/Query

Defines an stack scope for one or more stacks

Returns a data structure representing the scope.

Examples:

  (nf-stack "batch")
  ;=&gt; [:eq "nf.stack" "batch"]

See:
  hyperion/nf-app
  hyperion/nf-cluster
</pre></div></div><div class="public anchor" id="var-nf-zone"><h3>nf-zone</h3><div class="usage"><code>(nf-zone zone &amp; zones)</code></div><div class="doc"><pre class="plaintext">Inputs: [zone :- m/Name &amp; zones :- [m/Name]]
Returns: m/Query

Defines an zone scope for one or more zones

Returns a data structure representing the scope.

Examples:

  (nf-zone "us-east-1c")
  ;=&gt; [:eq "nf.zone" "us-east-1c"]

  (nf-zone :us-east-1c :eu-west-1a)
  ;=&gt; [:in "nf.zone" #{"us-east-1c" "eu-west-1a"}]

See:
  hyperion/nf-app
  hyperion/nf-cluster
</pre></div></div><div class="public anchor" id="var-node-avg"><h3>node-avg</h3><div class="usage"><code>(node-avg name)</code><code>(node-avg scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Takes the per-node average of a metric. Optionally takes a scope to restrict the metric.

See:
  hyperion.core/avg, hyperion.core/avg+
</pre></div></div><div class="public anchor" id="var-not"><h3>not</h3><div class="usage"><code>(not expr)</code></div><div class="doc"><pre class="plaintext">Inputs: [expr :- m/MetricName]
Returns: m/Query

Negates the expression</pre></div></div><div class="public anchor" id="var-offset"><h3>offset</h3><div class="usage"><code>(offset metric period)</code></div><div class="doc"><pre class="plaintext">Inputs: [metric :- m/MetricName period :- m/Offset]
Returns: m/Query

Offsets the metric by the specified period.
Supports :week, :wow (week over week) and :wo2w (week over 2 weeks).</pre></div></div><div class="public anchor" id="var-or"><h3>or</h3><div class="usage"><code>(or arg &amp; args)</code></div><div class="doc"><pre class="plaintext">Inputs: [arg :- m/MetricName &amp; args :- [m/MetricName]]
Returns: m/Query

Combines the expressions with :or

See:
  hyperion.core/and
</pre></div></div><div class="public anchor" id="var-per-step"><h3>per-step</h3><div class="usage"><code>(per-step v)</code></div><div class="doc"><pre class="plaintext">Inputs: [v :- m/Query]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-percent"><h3>percent</h3><div class="usage"><code>(percent v)</code></div><div class="doc"><pre class="plaintext">Inputs: [v :- m/Query]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-percentile"><h3>percentile</h3><div class="usage"><code>(percentile name percentileVal)</code><code>(percentile scope name percentileVal)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName percentileVal :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName percentileVal :- m/MetricName])
Returns: m/Query

Takes the percentile of a metric. Optionally takes a scope to restrict the metric.

See:
  hyperion.core/avg+, hyperion.core/node-avg
</pre></div></div><div class="public anchor" id="var-query-.3Eurl"><h3>query-&gt;url</h3><div class="usage"><code>(query-&gt;url lines)</code></div><div class="doc"><pre class="plaintext">Given a sequence of expressions as generated by functions like hyperion.core/name,
hyperion.core/sum, etc, generates an Atlas query expression as a string.

See:
  hyperion.core/expression-&gt;url
</pre></div></div><div class="public anchor" id="var-replace-row"><h3>replace-row</h3><div class="usage"><code>(replace-row tab row-index row)</code><code>(replace-row tabs tab-index row-index row)</code></div><div class="doc"><pre class="plaintext">Replaces a single row in an existing tab-set or tab
</pre></div></div><div class="public anchor" id="var-rolling"><h3>rolling</h3><div class="usage"><code>(rolling metric n window)</code></div><div class="doc"><pre class="plaintext">Inputs: [metric :- m/Query n :- s/Num window :- s/Num]
Returns: m/Query

Takes a rolling count of a metric for an alert. Fires when the count is &gt;= n.
  The number of samples to count is defined by window.</pre></div></div><div class="public anchor" id="var-sdes-fast"><h3>sdes-fast</h3><div class="usage"><code>(sdes-fast name)</code><code>(sdes-fast scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Takes the sdes-fast of a metric. Optionally takes a scope to restrict the metric.</pre></div></div><div class="public anchor" id="var-sdes-slow"><h3>sdes-slow</h3><div class="usage"><code>(sdes-slow name)</code><code>(sdes-slow scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Takes the sdes-slow of a metric. Optionally takes a scope to restrict the metric.</pre></div></div><div class="public anchor" id="var-sort-by"><h3>sort-by</h3><div class="usage"><code>(sort-by metric stat)</code><code>(sort-by metric stat order)</code></div><div class="doc"><pre class="plaintext">Inputs: ([metric :- m/Query stat :- (s/enum :text :min :max :avg :total)] [metric :- m/Query stat :- (s/enum :text :min :max :avg :total) order :- (s/enum :asc :desc)])
Returns: m/Query

Orders values by stat in order</pre></div></div><div class="public anchor" id="var-sqrt"><h3>sqrt</h3><div class="usage"><code>(sqrt v)</code></div><div class="doc"><pre class="plaintext">Inputs: [v :- m/Query]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-stack"><h3>stack</h3><div class="usage"><code>(stack metric)</code><code>(stack metric legend)</code><code>(stack metric legend color)</code></div><div class="doc"><pre class="plaintext">Inputs: ([metric :- m/Query] [metric :- m/Query legend :- (s/maybe s/Str)] [metric :- m/Query legend :- (s/maybe s/Str) color :- (s/maybe m/Color)])
Returns: m/Query

Defines a stacked area on a graph. Each area is stacked on the last.

 metric The expression for the metric
 legend The legend, a string
 color  The color of the line, e.g. :red, :blue, etc
 </pre></div></div><div class="public anchor" id="var-sub"><h3>sub</h3><div class="usage"><code>(sub x y &amp; more)</code></div><div class="doc"><pre class="plaintext">Inputs: [x :- m/MetricName y :- m/MetricName &amp; more :- [m/MetricName]]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-sum"><h3>sum</h3><div class="usage"><code>(sum name)</code><code>(sum scope name)</code></div><div class="doc"><pre class="plaintext">Inputs: ([name :- m/MetricName] [scope :- (s/maybe m/Query) name :- m/MetricName])
Returns: m/Query

Takes the sum of a metric. Optionally takes a scope to restrict the metric.</pre></div></div><div class="public anchor" id="var-trend"><h3>trend</h3><div class="usage"><code>(trend metric window)</code></div><div class="doc"><pre class="plaintext">Inputs: [metric :- m/Query window :- s/Str]
Returns: m/Query</pre></div></div><div class="public anchor" id="var-vspan"><h3>vspan</h3><div class="usage"><code>(vspan metric)</code><code>(vspan metric legend)</code><code>(vspan metric legend color)</code></div><div class="doc"><pre class="plaintext">Inputs: ([metric :- m/Query] [metric :- m/Query legend :- (s/maybe s/Str)] [metric :- m/Query legend :- (s/maybe s/Str) color :- (s/maybe m/Color)])
Returns: m/Query

Defines a vertical span on a graph. When the value is &gt;= 1, the bar is shown.

 metric The expression for the metric
 legend The legend, a string
 color  The color of the line, e.g. :red, :blue, etc
 </pre></div></div></div></body></html>