<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>hyperion.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Hyperion 0.1.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="hyperion.atlas.html"><span>hyperion.atlas</span></a></li><li class="current"><a href="hyperion.core.html"><span>hyperion.core</span></a></li><li><a href="hyperion.dashboards.html"><span>hyperion.dashboards</span></a></li><li><a href="hyperion.modules.html"><span>hyperion.modules</span></a></li><li><a href="hyperion.templates.html"><span>hyperion.templates</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="hyperion.core.html#var-add"><span>add</span></a></li><li><a href="hyperion.core.html#var-and"><span>and</span></a></li><li><a href="hyperion.core.html#var-area"><span>area</span></a></li><li><a href="hyperion.core.html#var-avg"><span>avg</span></a></li><li><a href="hyperion.core.html#var-avg%2B"><span>avg+</span></a></li><li><a href="hyperion.core.html#var-axis"><span>axis</span></a></li><li><a href="hyperion.core.html#var-dashboard"><span>dashboard</span></a></li><li><a href="hyperion.core.html#var-div"><span>div</span></a></li><li><a href="hyperion.core.html#var-expression-%3Eurl"><span>expression-&gt;url</span></a></li><li><a href="hyperion.core.html#var-group-by"><span>group-by</span></a></li><li><a href="hyperion.core.html#var-line"><span>line</span></a></li><li><a href="hyperion.core.html#var-max"><span>max</span></a></li><li><a href="hyperion.core.html#var-merge"><span>merge</span></a></li><li><a href="hyperion.core.html#var-min"><span>min</span></a></li><li><a href="hyperion.core.html#var-module-%3Eurl"><span>module-&gt;url</span></a></li><li><a href="hyperion.core.html#var-mul"><span>mul</span></a></li><li><a href="hyperion.core.html#var-name"><span>name</span></a></li><li><a href="hyperion.core.html#var-name*"><span>name*</span></a></li><li><a href="hyperion.core.html#var-nf-app"><span>nf-app</span></a></li><li><a href="hyperion.core.html#var-nf-cluster"><span>nf-cluster</span></a></li><li><a href="hyperion.core.html#var-nf-region"><span>nf-region</span></a></li><li><a href="hyperion.core.html#var-nf-zone"><span>nf-zone</span></a></li><li><a href="hyperion.core.html#var-offset"><span>offset</span></a></li><li><a href="hyperion.core.html#var-or"><span>or</span></a></li><li><a href="hyperion.core.html#var-query-%3Eurl"><span>query-&gt;url</span></a></li><li><a href="hyperion.core.html#var-rolling"><span>rolling</span></a></li><li><a href="hyperion.core.html#var-stack"><span>stack</span></a></li><li><a href="hyperion.core.html#var-sub"><span>sub</span></a></li><li><a href="hyperion.core.html#var-sum"><span>sum</span></a></li><li><a href="hyperion.core.html#var-vspan"><span>vspan</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>hyperion.core documentation</h2><pre class="doc"></pre><div class="public" id="var-add"><h3>add</h3><div class="usage"><code>(add x y &amp; more)</code></div><pre class="doc"></pre></div><div class="public" id="var-and"><h3>and</h3><div class="usage"><code>(and arg &amp; args)</code></div><pre class="doc">Combines the expressions with :and

Examples:

  (h/and (h/nf-cluster :api) (h/name :metric))
  ;=&gt; [:and [:eq &quot;nf.cluster&quot; &quot;api&quot;] [:eq &quot;name&quot; &quot;metric&quot;]]

See:
  hyperion.core/or
</pre></div><div class="public" id="var-area"><h3>area</h3><div class="usage"><code>(area metric legend)</code><code>(area metric legend color)</code></div><pre class="doc">Defines an area on a graph. Does not stack the areas; each is plotted in
front of the last.

 metric The expression for the metric
 legend The legend, a string
 color  The color of the line, e.g. :red, :blue, etc
 </pre></div><div class="public" id="var-avg"><h3>avg</h3><div class="usage"><code>(avg name)</code><code>(avg scope name)</code></div><pre class="doc">Takes the average of a metric. Optionally takes a scope to restrict the metric.

See:
  hyperion.core/avg+
</pre></div><div class="public" id="var-avg%2B"><h3>avg+</h3><div class="usage"><code>(avg+ name)</code><code>(avg+ scope name)</code><code>(avg+ scope name offset)</code></div><pre class="doc">Takes the average of a metric. Optionally takes a scope to restrict the metric.
 While avg simply averages the metric, this takes the sum and then divides by
 the number of active instances.

See:
  hyperion.core/avg
</pre></div><div class="public" id="var-axis"><h3>axis</h3><div class="usage"><code>(axis axis metric)</code></div><pre class="doc">Assigns the lines to a specific axis
</pre></div><div class="public" id="var-dashboard"><h3>dashboard</h3><div class="usage"><code>(dashboard definition target)</code></div><pre class="doc"></pre></div><div class="public" id="var-div"><h3>div</h3><div class="usage"><code>(div n d)</code></div><pre class="doc"></pre></div><div class="public" id="var-expression-%3Eurl"><h3>expression-&gt;url</h3><div class="usage"><code>(expression-&gt;url value)</code></div><pre class="doc">Given a single expression representation as generated by functions like
hyperion.core/name, hyperion.core/sum, etc, generates the equivalent Atlas
stack language expression as a string.

Examples:

  (h/expression-&gt;url (h/sum (h/nf-app :socialservice) (h/name :requests)))
  ;=&gt; &quot;nf.app,socialservice,:eq,name,:requests,:eq,:and,:sum&quot;

See:
  hyperion.core/query-&gt;url
</pre></div><div class="public" id="var-group-by"><h3>group-by</h3><div class="usage"><code>(group-by keys metric)</code></div><pre class="doc">Groups a metric by a specified dimension
</pre></div><div class="public" id="var-line"><h3>line</h3><div class="usage"><code>(line metric legend)</code><code>(line metric legend color)</code></div><pre class="doc">Defines a single line on a graph.

metric The expression for the metric
legend The legend, a string
color  The color of the line, e.g. :red, :blue, etc
</pre></div><div class="public" id="var-max"><h3>max</h3><div class="usage"><code>(max name)</code><code>(max scope name)</code></div><pre class="doc">Takes the maximum of a metric. Optionally takes a scope to restrict the metric.
</pre></div><div class="public" id="var-merge"><h3>merge</h3><div class="usage"><code>(merge names)</code></div><pre class="doc">Merges atlas style map-names
</pre></div><div class="public" id="var-min"><h3>min</h3><div class="usage"><code>(min name)</code><code>(min scope name)</code></div><pre class="doc">Takes the minimum of a metric. Optionally takes a scope to restrict the metric.
</pre></div><div class="public" id="var-module-%3Eurl"><h3>module-&gt;url</h3><div class="usage"><code>(module-&gt;url module)</code><code>(module-&gt;url start module)</code><code>(module-&gt;url start end module)</code></div><pre class="doc"></pre></div><div class="public" id="var-mul"><h3>mul</h3><div class="usage"><code>(mul x y &amp; more)</code></div><pre class="doc"></pre></div><div class="public" id="var-name"><h3>name</h3><div class="usage"><code>(name name)</code></div><pre class="doc">Returns a representation of an expression that matches the name of a metric.

name is the value to match, which can take the following forms:

  String            name is match with equality
  java.util.Pattern name is a regex to match
  A Set             name is a set of names to match
  A Map             name is a map of key/value pairs, each representing a separate
                    name/value match.
  A Vector          An expression

Examples:

  ; name must be &quot;request&quot;
  (hyperion/name &quot;request&quot;)

  ; name must be one of &quot;foo&quot;, &quot;bar&quot; or &quot;baz&quot;
  (hyperion/name #{&quot;foo&quot; &quot;bar&quot; &quot;baz&quot;})
</pre></div><div class="public" id="var-name*"><h3>name*</h3><div class="usage"><code>(name* field name)</code></div><pre class="doc">Matches the name of a metric

See:
  hyperion.core/name
</pre></div><div class="public" id="var-nf-app"><h3>nf-app</h3><div class="usage"><code>(nf-app app &amp; apps)</code></div><pre class="doc">Defines an application scope for one or more apps.

Returns a data structure representing the scope.

Examples:

  (nf-app &quot;socialservice&quot;)
  ;=&gt; [:eq &quot;nf.app&quot; &quot;socialservice&quot;]

  (nf-app :socialservice :socialsqsconsumers)
  ;=&gt; [:in &quot;nf.app&quot; #{&quot;socialservice&quot; &quot;socialsqsconsumers&quot;}]

See:
  hyperion/nf-cluster
  hyperion/nf-region
</pre></div><div class="public" id="var-nf-cluster"><h3>nf-cluster</h3><div class="usage"><code>(nf-cluster cluster &amp; clusters)</code></div><pre class="doc">Defines an cluster scope for one or more clusters.

Returns a data structure representing the scope.

Examples:

  (nf-cluster &quot;socialservice&quot;)
  ;=&gt; [:eq &quot;nf.cluster&quot; &quot;socialservice&quot;]

  (nf-cluster :socialservice :socialsqsconsumers)
  ;=&gt; [:in &quot;nf.cluster&quot; #{&quot;socialservice&quot; &quot;socialsqsconsumers&quot;}]

See:
  hyperion/nf-app
  hyperion/nf-region
</pre></div><div class="public" id="var-nf-region"><h3>nf-region</h3><div class="usage"><code>(nf-region region &amp; regions)</code></div><pre class="doc">Defines an region scope for one or more regions

Returns a data structure representing the scope.

Examples:

  (nf-region &quot;us-east-1&quot;)
  ;=&gt; [:eq &quot;nf.region&quot; &quot;us-east-1&quot;]

  (nf-region :us-east-1 :eu-west-1)
  ;=&gt; [:in &quot;nf.region&quot; #{&quot;us-east-1&quot; &quot;eu-west-1&quot;}]

See:
  hyperion/nf-app
  hyperion/nf-cluster
</pre></div><div class="public" id="var-nf-zone"><h3>nf-zone</h3><div class="usage"><code>(nf-zone zone &amp; zones)</code></div><pre class="doc">Defines an zone scope for one or more zones

Returns a data structure representing the scope.

Examples:

  (nf-zone &quot;us-east-1c&quot;)
  ;=&gt; [:eq &quot;nf.zone&quot; &quot;us-east-1c&quot;]

  (nf-zone :us-east-1c :eu-west-1a)
  ;=&gt; [:in &quot;nf.zone&quot; #{&quot;us-east-1c&quot; &quot;eu-west-1a&quot;}]

See:
  hyperion/nf-app
  hyperion/nf-cluster
</pre></div><div class="public" id="var-offset"><h3>offset</h3><div class="usage"><code>(offset period metric)</code></div><pre class="doc">Offsets the metric by the specified period.
Supports :week, :wow (week over week) and :wo2w (week over 2 weeks).</pre></div><div class="public" id="var-or"><h3>or</h3><div class="usage"><code>(or arg &amp; args)</code></div><pre class="doc">Combines the expressions with :or

See:
  hyperion.core/and
</pre></div><div class="public" id="var-query-%3Eurl"><h3>query-&gt;url</h3><div class="usage"><code>(query-&gt;url lines)</code></div><pre class="doc">Given a sequence of expressions as generated by functions like hyperion.core/name,
hyperion.core/sum, etc, generates an Atlas query expression as a string.

See:
  hyperion.core/expression-&gt;url
</pre></div><div class="public" id="var-rolling"><h3>rolling</h3><div class="usage"><code>(rolling n window metric)</code></div><pre class="doc">Takes a rolling count of a metric for an alert. Fires when the count is &gt;= n.
The number of samples to count is defined by window.</pre></div><div class="public" id="var-stack"><h3>stack</h3><div class="usage"><code>(stack metric legend)</code><code>(stack metric legend color)</code></div><pre class="doc">Defines a stacked area on a graph. Each area is stacked on the last.

metric The expression for the metric
legend The legend, a string
color  The color of the line, e.g. :red, :blue, etc
</pre></div><div class="public" id="var-sub"><h3>sub</h3><div class="usage"><code>(sub x y &amp; more)</code></div><pre class="doc"></pre></div><div class="public" id="var-sum"><h3>sum</h3><div class="usage"><code>(sum name)</code><code>(sum scope name)</code></div><pre class="doc">Takes the sum of a metric. Optionally takes a scope to restrict the metric.
</pre></div><div class="public" id="var-vspan"><h3>vspan</h3><div class="usage"><code>(vspan metric legend)</code><code>(vspan metric legend color)</code></div><pre class="doc">Defines a vertical span on a graph. When the value is &gt;= 1, the bar is shown.

metric The expression for the metric
legend The legend, a string
color  The color of the line, e.g. :red, :blue, etc
</pre></div></div></body></html>