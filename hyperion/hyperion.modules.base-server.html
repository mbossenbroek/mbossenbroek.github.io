<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>hyperion.modules.base-server documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Netflix.hyperion</span> <span class="project-version">1.34</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hyperion</span></div></div></li><li class="depth-2 branch"><a href="hyperion.aca.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>aca</span></div></a></li><li class="depth-2 branch"><a href="hyperion.alerts.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>alerts</span></div></a></li><li class="depth-2 branch"><a href="hyperion.atlas.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>atlas</span></div></a></li><li class="depth-2 branch"><a href="hyperion.auto-metrics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auto-metrics</span></div></a></li><li class="depth-2 branch"><a href="hyperion.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="hyperion.dashboards.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dashboards</span></div></a></li><li class="depth-2 branch"><a href="hyperion.metrics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>metrics</span></div></a></li><li class="depth-2"><a href="hyperion.modules.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>modules</span></div></a></li><li class="depth-3 branch current"><a href="hyperion.modules.base-server.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base-server</span></div></a></li><li class="depth-3"><a href="hyperion.modules.grpc.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grpc</span></div></a></li><li class="depth-2"><a href="hyperion.templates.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>templates</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="hyperion.modules.base-server.html#var-all-requests"><div class="inner"><span>all-requests</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-command-list-.3Erequest-stats-ids"><div class="inner"><span>command-list-&gt;request-stats-ids</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-default-max-latency"><div class="inner"><span>default-max-latency</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request"><div class="inner"><span>request</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-completed"><div class="inner"><span>request-completed</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-counts"><div class="inner"><span>request-counts</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-dash"><div class="inner"><span>request-dash</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-degraded"><div class="inner"><span>request-degraded</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-disconnect"><div class="inner"><span>request-disconnect</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-errors"><div class="inner"><span>request-errors</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-latencies"><div class="inner"><span>request-latencies</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-latency-90"><div class="inner"><span>request-latency-90</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-latency-95"><div class="inner"><span>request-latency-95</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-latency-99"><div class="inner"><span>request-latency-99</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-latency-995"><div class="inner"><span>request-latency-995</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-latency-avg"><div class="inner"><span>request-latency-avg</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-latency-max"><div class="inner"><span>request-latency-max</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-success"><div class="inner"><span>request-success</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-request-throttled"><div class="inner"><span>request-throttled</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-requests-per-second"><div class="inner"><span>requests-per-second</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-rolling-request"><div class="inner"><span>rolling-request</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-service"><div class="inner"><span>service</span></div></a></li><li class="depth-1"><a href="hyperion.modules.base-server.html#var-service-dash"><div class="inner"><span>service-dash</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">hyperion.modules.base-server</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-all-requests"><h3>all-requests</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-command-list-.3Erequest-stats-ids"><h3>command-list-&gt;request-stats-ids</h3><div class="usage"><code>(command-list-&gt;request-stats-ids scope commands)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-default-max-latency"><h3>default-max-latency</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request"><h3>request</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Defines 3 alerts for a request:

* A latency alert
* A count alert
* An error percentage alert


Required fields:
  :scope #'hyperion.templates/scope-doc

  :actions #'hyperion.templates/actions-doc

  :metric The name of the request

Optional fields:
  :count-threshold The count minimum threshold, a number

  :mask #'hyperion.templates/mask-doc-global

  :count-mask #'hyperion.templates/mask-doc

  :dashboards #'hyperion.templates/dashboard-doc

  :error-threshold The error threshold, a percentage

  :count-window The count window

  :error-mask #'hyperion.templates/mask-doc

  :error-window The error window

  :latency-threshold The latency maximum threshold, a number

  :latency-window The latency window

  :latency-mask #'hyperion.templates/mask-doc</pre></div></div><div class="public anchor" id="var-request-completed"><h3>request-completed</h3><div class="usage"><code>(request-completed)</code><code>(request-completed name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-counts"><h3>request-counts</h3><div class="usage"><code>(request-counts scope overrides)</code><code>(request-counts scope name {:keys [title], :as _overrides})</code></div><div class="doc"><pre class="plaintext">Graph for request counts produced by BaseServer
</pre></div></div><div class="public anchor" id="var-request-dash"><h3>request-dash</h3><div class="usage"><code>(request-dash name scope overrides &amp; commands)</code></div><div class="doc"><pre class="plaintext">Tab with rows per command, columns for counts &amp; latencies
</pre></div></div><div class="public anchor" id="var-request-degraded"><h3>request-degraded</h3><div class="usage"><code>(request-degraded)</code><code>(request-degraded name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-disconnect"><h3>request-disconnect</h3><div class="usage"><code>(request-disconnect)</code><code>(request-disconnect name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-errors"><h3>request-errors</h3><div class="usage"><code>(request-errors)</code><code>(request-errors name)</code><code>(request-errors name ignore-statuses)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-latencies"><h3>request-latencies</h3><div class="usage"><code>(request-latencies scope overrides)</code><code>(request-latencies scope name overrides)</code></div><div class="doc"><pre class="plaintext">Graph for request latencies produced by BaseServer
</pre></div></div><div class="public anchor" id="var-request-latency-90"><h3>request-latency-90</h3><div class="usage"><code>(request-latency-90)</code><code>(request-latency-90 name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-latency-95"><h3>request-latency-95</h3><div class="usage"><code>(request-latency-95)</code><code>(request-latency-95 name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-latency-99"><h3>request-latency-99</h3><div class="usage"><code>(request-latency-99)</code><code>(request-latency-99 name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-latency-995"><h3>request-latency-995</h3><div class="usage"><code>(request-latency-995)</code><code>(request-latency-995 name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-latency-avg"><h3>request-latency-avg</h3><div class="usage"><code>(request-latency-avg)</code><code>(request-latency-avg name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-latency-max"><h3>request-latency-max</h3><div class="usage"><code>(request-latency-max)</code><code>(request-latency-max name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-success"><h3>request-success</h3><div class="usage"><code>(request-success name)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-request-throttled"><h3>request-throttled</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-requests-per-second"><h3>requests-per-second</h3><div class="usage"><code>(requests-per-second scope)</code></div><div class="doc"><pre class="plaintext">Graph for RPS
</pre></div></div><div class="public anchor" id="var-rolling-request"><h3>rolling-request</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Defines 3 alerts for a low volume request:

  * A latency alert
  * A count alert
  * An error percentage alert

This is useful for low-volume requests because it alerts based on a rolling sum
of the signal.


  Required fields:
    :scope #'hyperion.templates/scope-doc

    :actions #'hyperion.templates/actions-doc

    :sample #'hyperion.templates/sample-doc

    :metric The name of the request

  Optional fields:
    :count-threshold The count minimum threshold, a number

    :mask #'hyperion.templates/mask-doc-global

    :count-mask #'hyperion.templates/mask-doc

    :dashboards #'hyperion.templates/dashboard-doc

    :error-threshold The error threshold, a percentage

    :count-window The count window

    :error-mask #'hyperion.templates/mask-doc

    :error-window The error window

    :latency-threshold The latency maximum threshold, a number

    :latency-window The latency window

    :latency-mask #'hyperion.templates/mask-doc</pre></div></div><div class="public anchor" id="var-service"><h3>service</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Defines 7 alerts that are useful for a system taking requests:

* A pager for low/no request volume
* A pager for super high latency
* An email for moderately high latency
* An instance termination rule for rouge instances (based on latency)
* A pager for a super high error percentage
* An email for a high error percentage
* An email for high load avg


Required fields:
  :scope #'hyperion.templates/scope-doc

Optional fields:
  :mask #'hyperion.templates/mask-doc-global

  :latency-avg-terminate The latency (avg) at which to terminate an instance

  :count-mask #'hyperion.templates/mask-doc

  :dashboards #'hyperion.templates/dashboard-doc

  :error-pct-mask #'hyperion.templates/mask-doc

  :latency-terminate-window The window for :count-pager. Defaults to [5 10]

  :count-email-window The window for :count-email. Defaults to [10 10]

  :latency-email The latency (95th%) at which you are emailed

  :count-email The minimum request count before you are emailed

  :latency-email-window The window for :latency-email. Defaults to [8 10]

  :error-pct-email The error percentage at which you are emailed

  :count-pager-window The window for :count-pager. Defaults to [10 10]

  :latency-avg-mask #'hyperion.templates/mask-doc

  :latency-avg-terminate-window The window for :latency-avg-terminate. Defaults to [5 10]

  :load-avg The maximum load avg before you are emailed

  :error-pct-pager-window The window for :error-pct-pager-. Defaults to [10 10]

  :latency-avg-email-window The window for :latency-avg-email. Defaults to [8 10]

  :load-avg-mask #'hyperion.templates/mask-doc

  :load-avg-window The window for :load-avg. Defaults to [10 10]

  :latency-terminate The latency (95th%) at which to terminate an instance

  :latency-avg-pager-window The window for :latency-avg-pager. Defaults to [10 10]

  :latency-avg-email The latency (avg) at which you are emailed

  :error-pct-pager The error percentage at which you are paged

  :latency-pager-window The window for :latency-pager. Defaults to [10 10]

  :error-status-ignore Set of http status code regexes that should not be counted as errors, e.g. #{#"404"}

  :error-pct-email-window The window for :error-pct-email. Defaults to [10 10]

  :latency-pager The latency (95th%) at which you are paged

  :count-pager The minimum request count before you are paged

  :latency-mask #'hyperion.templates/mask-doc

  :latency-avg-pager The latency (avg) at which you are paged</pre></div></div><div class="public anchor" id="var-service-dash"><h3>service-dash</h3><div class="usage"><code>(service-dash scope)</code><code>(service-dash scope overrides)</code><code>(service-dash name scope overrides)</code></div><div class="doc"><pre class="plaintext">Tab with standard service graphs
</pre></div></div></div></body></html>